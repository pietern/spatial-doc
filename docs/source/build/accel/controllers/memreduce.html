

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MemReduce &mdash; Spatial 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Spatial 0.1 documentation" href="../../index.html"/>
        <link rel="up" title="Controller Templates" href="../controllers.html"/>
        <link rel="next" title="Parallel" href="parallel.html"/>
        <link rel="prev" title="MemFold" href="memfold.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Spatial
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software.html">Software</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../hardware.html">Hardware</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../memories.html">Memory Templates</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../controllers.html">Controller Templates</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="fold.html">Fold</a></li>
<li class="toctree-l3"><a class="reference internal" href="foreach.html">Foreach</a></li>
<li class="toctree-l3"><a class="reference internal" href="memfold.html">MemFold</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MemReduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="parallel.html">Parallel</a></li>
<li class="toctree-l3"><a class="reference internal" href="reduce.html">Reduce</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../controltags.html">Controller Tags</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theory.html">Theory</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Spatial</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../hardware.html">Hardware</a> &raquo;</li>
        
          <li><a href="../controllers.html">Controller Templates</a> &raquo;</li>
        
      <li>MemReduce</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/accel/controllers/memreduce.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="memreduce">
<span id="id1"></span><h1>MemReduce<a class="headerlink" href="#memreduce" title="Permalink to this headline">Â¶</a></h1>
<p><strong>MemReduce</strong> describes the reduction <em>across</em> multiple local memories.
Like <a class="reference internal" href="reduce.html"><span class="doc">Reduce</span></a>, MemReduce requires both a <em>map</em> and a <em>reduction</em> function. However, in MemReduce, the <em>map</em>
describes the creation and population of a local memory (typically an <a class="reference internal" href="../memories/sram.html"><span class="doc">SRAM</span></a>).
The <em>reduction</em> function still operates on scalars, and is used to combine local memories together element-wise.
Unlike Reduce, MemReduce always requires an explicit accumulator.
Unless otherwise disabled, the compiler will then try to parallelize both the creation of multiple memories and the reduction
of each of these memories into a single accumulator.</p>
<hr class="docutils" />
<p><strong>Static methods</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2"><cite>object</cite>         <strong>MemReduce</strong></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2"><div class="first last line-block">
<div class="line">def   <strong>apply</strong>[T,C[T]](accum: C[T])(ctr: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>)(map: <a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a> =&gt; C[T])(reduce: (T,T) =&gt; T): C[T]</div>
<div class="line-block">
<div class="line">Memory reduction over a one dimensional space</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><div class="first last line-block">
<div class="line">def   <strong>apply</strong>[T,C[T]](accum: C[T])(ctr1: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr2: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>)(map: (<a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>, <a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>) =&gt; C[T])(reduce: (T,T) =&gt; T): C[T]</div>
<div class="line-block">
<div class="line">Memory reduction over a two dimensional space</div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td colspan="2"><div class="first last line-block">
<div class="line">def   <strong>apply</strong>[T,C[T]](accum: C[T])(ctr1: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr2: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr3: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>)(map: (<a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>, <a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>, <a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>) =&gt; C[T])(reduce: (T,T) =&gt; T): C[T]</div>
<div class="line-block">
<div class="line">Memory reduction over a three dimensional space</div>
</div>
</div>
</td>
</tr>
<tr class="row-odd"><td colspan="2"><div class="first last line-block">
<div class="line">def   <strong>apply</strong>[T,C[T]](accum: C[T])(ctr1: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr2: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr3: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr4: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>, ctr5: <a class="reference internal" href="../memories/counter.html"><span class="doc">Counter</span></a>*)(map: List[<a class="reference internal" href="../../common/fixpt.html"><span class="doc">Int</span></a>] =&gt; C[T])(reduce: (T,T) =&gt; T): C[T]</div>
<div class="line-block">
<div class="line">Memory reduction over an N-dimensional space</div>
<div class="line">Note that the <strong>map</strong> function is on a List of iterators.</div>
<div class="line">The number of iterators will be the same as the number of counters supplied.</div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="parallel.html" class="btn btn-neutral float-right" title="Parallel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="memfold.html" class="btn btn-neutral" title="MemFold" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017,Stanford PPL.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>0. Introduction &mdash; Spatial 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Spatial 0.1 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Spatial
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">Theory</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Spatial</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>0. Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/aws/intro.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>0. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Running on EC2 FPGAs requires the following prerequisites:</p>
<ul class="simple">
<li>An installation of Spatial as described in the <a class="reference internal" href="../tutorial/starting.html"><span class="doc">previous tutorial</span></a></li>
<li>Vivado and a license to run on the desired Amazon FPGA. We tested this tutorial both on Amazon&#8217;s <a class="reference external" href="https://aws.amazon.com/marketplace/pp/B06VVYBLZZ#">FPGA Developer AMI</a> which contains all the required software tools,
as well as locally by following <a class="reference external" href="https://github.com/aws/aws-fpga/blob/06ba5922d888781ee4405865e0367c31b4893199/hdk/docs/on_premise_licensing_help.md">these instructions</a>.</li>
</ul>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>Clone Amazon&#8217;s <a class="reference external" href="https://github.com/aws/aws-fpga/">EC2 FPGA Hardware and Software Development Kit</a> to any location:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/aws/aws-fpga.git
</pre></div>
</div>
<p>Spatial supports the current master branch of this repository.</p>
<p>Set the <code class="docutils literal"><span class="pre">AWS_HOME</span></code> environment variable to point to the cloned directory.
Also source the AWS setup scripts. The HDK script is needed for simulation and synthesis, and the SDK is needed to create the host binary:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">AWS_HOME</span><span class="o">=</span>/path/to/aws-fpga
<span class="nb">cd</span> /path/to/aws-fpga/
<span class="nb">source</span> /path/to/aws-fpga/hdk_setup.sh
<span class="nb">source</span> /path/to/aws-fpga/sdk_setup.sh
</pre></div>
</div>
<p>For example, you can add the 4 commands above to your <code class="docutils literal"><span class="pre">.bashrc</span></code> and source that.</p>
<p>Finally, applications targeting the F1 board (in hardware or simulation) need to set the <code class="docutils literal"><span class="pre">target</span></code> variable. For example,
make the following change in the very top of the <code class="docutils literal"><span class="pre">apps/src/MatMult_outer.scala</span></code> application:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>object MatMult_outer extends SpatialApp <span class="o">{</span>
  import IR._
  override val <span class="nv">target</span> <span class="o">=</span> targets.AWS_F1  // &lt;---- new line
  ...
</pre></div>
</div>
<p>The next tutorial sections describe how to generate and run applications for <a class="reference internal" href="sim.html"><span class="doc">simulation</span></a> and <a class="reference internal" href="F1.html"><span class="doc">for the FPGAs on the F1 instances</span></a>.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017,Stanford PPL.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
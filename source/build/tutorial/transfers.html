

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Transfer Templates &mdash; Spatial 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Spatial 0.1 documentation" href="../index.html"/>
        <link rel="up" title="Tutorial" href="../tutorial.html"/>
        <link rel="next" title="6. Design Space Exploration with Spatial" href="dse.html"/>
        <link rel="prev" title="4. Controller Templates" href="controllers.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Spatial
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware.html">Hardware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="starting.html">0. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="helloworld.html">1. Hello, Spatial!</a></li>
<li class="toctree-l2"><a class="reference internal" href="model.html">2. The Spatial Programming Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="memories.html">3. Memory Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="controllers.html">4. Controller Templates</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">5. Transfer Templates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data-transfers">Data Transfers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#primitives">Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="#counters-parallelization">Counters/Parallelization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="dse.html">6. Design Space Exploration with Spatial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory.html">Theory</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Spatial</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>5. Transfer Templates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/transfers.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="transfer-templates">
<h1>5. Transfer Templates<a class="headerlink" href="#transfer-templates" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-transfers">
<h2>Data Transfers<a class="headerlink" href="#data-transfers" title="Permalink to this headline">¶</a></h2>
<p><strong>Load</strong></p>
<p>Loads some chunk of memory from DRAM and place in SRAM or FIFO.  If the chunk is not burst aligned, then a whole burst is issued but data that was not wanted gets dumped into a null buffer.</p>
<p><strong>Store</strong></p>
<p>Stores some SRAM or FIFO to memory.</p>
<p><strong>Gather</strong></p>
<p>Given DRAM addresses in some SRAM, it fetches these words from DRAM and places them in an SRAM that corresponds to the address SRAM.</p>
<p><strong>Scatter</strong></p>
<p>Given DRAM addresses in one SRAM and data in another SRAM, it scatters the data to the corresponding DRAM addresses</p>
</div>
<div class="section" id="primitives">
<h2>Primitives<a class="headerlink" href="#primitives" title="Permalink to this headline">¶</a></h2>
<p><strong>Register Read/Write</strong></p>
<p>Read and write to a register.  Note that although register reads are non-destructive, they are effectful if done in a Foreach node.  This is because the Spatial language does implicit buffering for your registers when their accesses appear in different stages of a metapipeline and a read is connected to the signals that swap this buffering</p>
<p><strong>SRAM Read/Write</strong></p>
<p>Read and write to SRAM.  Same as register accesses except an address must be specified.
####iii) FIFO Push/Pop
Push or pop to a FIFO.</p>
</div>
<div class="section" id="counters-parallelization">
<h2>Counters/Parallelization<a class="headerlink" href="#counters-parallelization" title="Permalink to this headline">¶</a></h2>
<p><strong>Parallelized Counters</strong></p>
<p>An accelerator would not be very good at accelerating anything if it did not allow the user to take advantage of the spatial architecture.  You can parallelize any control node in your algorithm by adding <cite>par $n</cite> to the counter declaration.  If you parallelize a control node that contains other control nodes, Spatial will unroll the inner nodes for you.  If you parallelize a control node that contains only primitives, the counter for that control node will be vectorized.  When you parallelize, all of your memory elements and arithmetic operations will be banked and/or duplicated in order to ensure correctness of your result, assuming there are no dependencies between the counter values.  Parallelized reductions will generate reduction trees, which results in the reduction latency increasing by log2(par).</p>
<p><strong>Endless Counters</strong></p>
<p>Endless counters are counters whose maximum value is specified by <cite>*</cite> (i.e. <cite>Foreach(* by 1 par 8){&lt;body&gt;}</cite>.  For an intuitive understanding of what this means, please see [this video](<a class="reference external" href="https://www.youtube.com/watch?v=xWcldHxHFpo">https://www.youtube.com/watch?v=xWcldHxHFpo</a>)</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dse.html" class="btn btn-neutral float-right" title="6. Design Space Exploration with Spatial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="controllers.html" class="btn btn-neutral" title="4. Controller Templates" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017,Stanford PPL.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>